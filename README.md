# 精灵世界 - 治愈放置游戏

一个类似《旅行青蛙》的治愈系放置游戏，增加了社交功能和昼夜系统。

## 游戏特色

### 🌟 核心玩法
- **资源收集**：收集阳光露珠（白天）和星光（夜晚）
- **准备行囊**：为主角准备食物、玩具和护身符
- **自主旅行**：主角会自主外出探索，带回照片和纪念品
- **收藏系统**：收集旅行照片、纪念品和梦境记录

### 🌙 昼夜系统
- **白天模式**：明亮温暖的色调，主要互动时间
- **夜晚模式**：宁静的蓝紫色调，助眠功能
- **自动切换**：根据系统时间自动切换昼夜模式

### 💫 社交系统
- **账号系统**：注册账号或使用访客模式游玩
- **在线玩家**：查看所有在线的玩家列表
- **访问小屋**：点击在线玩家可访问其他玩家的小屋
- **好友系统**：添加好友、处理好友申请
- **好友赠送**：向好友赠送资源（阳光、星光）或收藏品（照片、纪念品）
- **访客系统**：其他玩家的主角可能路过你家并留下礼物
- **共享地图**：分享发现的神秘地点，帮助其他玩家探索

### 💰 离线收益
- **自动收集**：离线时小狐狸也会自动收集资源
- **离线计算**：每小时自动生成 20 阳光露珠 + 20 星光（最多24小时）
- **精美弹窗**：登录时以弹窗形式展示离线收益
- **数据保存**：游戏数据自动保存到服务器本地文件

### 🌙 助眠功能
- **晚安故事**：聆听关于主角今天旅程的温馨故事
- **睡眠模式**：全屏睡眠模式，播放白噪音，适合睡前使用
- **梦的记录**：第二天早上查看主角昨晚的梦境

## 使用方法

### 多人模式（推荐）

1. **启动服务器**：
   
   **方式一：使用启动脚本（推荐）**
   ```bash
   ./start.sh
   ```
   
   **方式二：直接启动**
   ```bash
   node server.js
   ```
   
   服务器启动后会显示：
   - HTTP 服务器（端口 3000）：提供网页文件
   - WebSocket 服务器（端口 8080）：实时通信
   - 本机和局域网访问地址

2. **打开游戏**：
   
   **本机访问：**
   - 浏览器打开：`http://localhost:3000`
   
   **局域网访问：**
   - 其他设备浏览器打开：`http://<服务器IP>:3000`
   - 服务器 IP 会在启动时显示
   - 首次使用会自动跳转到登录注册页面

3. **注册或登录**：
   - **注册新账号**：输入昵称、账号、密码
   - **登录已有账号**：输入账号和密码
   - **访客模式**：无需注册即可游玩

4. **开始游戏**：
   - 登录成功后自动进入游戏
   - 如果有离线收益，会看到精美的收益弹窗
   - 游戏数据每30秒自动保存

### 单机模式（仅本地）

1. 直接在浏览器中打开 `index.html` 文件（需要先注释掉登录检查代码）
2. 或者使用本地服务器：
   ```bash
   # 使用 Python
   python -m http.server 8000
   
   # 使用 Node.js (需要安装 http-server)
   npx http-server
   ```
3. 在浏览器中访问 `http://localhost:8000`

**注意**：单机模式下无法使用多人社交功能和离线收益功能。

### 游戏操作

1. **收集资源**：点击花园中的资源田收集阳光露珠或星光
2. **准备行囊**：点击底部"行囊"按钮，为主角选择食物、玩具和护身符（最多3件）
3. **开始旅行**：选择物品后点击"确认出发"，主角会开始旅行
4. **查看收藏**：点击"收藏"按钮查看收集的照片、纪念品和梦境
5. **社区功能**：点击"社区"按钮分享地点或查看访客记录
6. **助眠模式**：夜晚时点击"助眠"按钮进入睡眠模式

## 游戏机制

### 资源系统
- **阳光露珠**：白天通过点击资源田或自动生成获得
- **星光**：夜晚通过点击资源田或自动生成获得
- 资源每10秒自动生成1点

### 旅行系统
- 旅行时间：30-90秒随机
- 旅行归来会带回：
  - 一张照片（必得）
  - 纪念品（30%概率）

### 物品系统
- **食物**：影响旅行倾向（结交朋友、夜间探险等）
- **玩具**：影响旅行地点（天空、水边等）
- **护身符**：带来好运和特殊效果

### 数据保存
- 游戏数据自动保存到浏览器本地存储
- 刷新页面不会丢失进度
- 旅行状态会自动恢复

## 技术实现

- **纯前端实现**：HTML + CSS + JavaScript
- **无依赖**：不需要任何框架或库
- **响应式设计**：支持移动端和桌面端
- **本地存储**：使用 localStorage 保存游戏数据

## 未来计划

- [ ] 添加音效和背景音乐
- [ ] 完善社交系统（好友系统、留言系统）
- [ ] 添加更多地点和物品
- [ ] 实现季节系统（樱花季、雪国季等）
- [ ] 添加成就系统
- [ ] 优化移动端体验

## 开发说明

游戏设计理念：
- **无压力社交**：所有社交功能都是可选的、异步的
- **治愈体验**：保持"想起来就打开看看"的随意感
- **克制商业化**：不强制广告，不影响游戏平衡

## 许可证

本项目仅供学习和参考使用。

